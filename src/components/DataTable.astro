---
import type { SeasonData } from "../downloadData"
import DataTableRow from "./DataTableRow.astro"
import FootnoteNum from "./FootnoteNum.astro"

interface Props {
  downloadedData: SeasonData[]
}
---

<table class="border border-slate-400 text-left min-w-max">
  <thead class="border-b border-slate-400">
    <tr class="[&>th]:px-2 [&>th]:py-1 divide-x divide-slate-200 text-sm">
      <th>Season</th>
      <th>Doctor</th>
      <th>Showrunner</th>
      <th colspan="2">Aired</th>
      <th class="text-right">
        RT<FootnoteNum num={1} /> Critic <br />
        <p class="text-xs font-semibold text-center">(0-100%)</p>
      </th>
      <th class="text-right">
        RT<FootnoteNum num={1} /> Audience <br />
        <p class="text-xs font-semibold text-center">(0-100%)</p>
      </th>
      <th class="text-right"
        >MC<FootnoteNum num={2} /> Critic <br />
        <p class="text-xs font-semibold text-center">(0-100%)</p>
      </th>
      <th class="text-right">
        MC<FootnoteNum num={2} /> User <br />
        <p class="text-xs font-semibold text-center">(0-10)</p>
      </th>
      <th class="text-right">
        TMDB<FootnoteNum num={3} /><br />
        <p class="text-xs font-semibold text-center">(0-10)</p>
      </th>
      <th class="text-right">
        User Average<FootnoteNum num={4} />
        <br />
        <p class="text-xs font-semibold text-center">(0-10)</p>
      </th>
    </tr>
  </thead>
  <tbody class="divide-y [&>tr]:divide-x divide-slate-200">
    {Astro.props.downloadedData.map((data) => <DataTableRow data={data} />)}
  </tbody>
</table>
